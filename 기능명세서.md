## 👨‍💻 Frontend 담당

### 1. 프로젝트 초기 설정

- [ ]  Vite + React 19 + TypeScript 프로젝트 생성
- [ ]  Tailwind CSS 4 설정
- [ ]  React Router v7 설치 및 라우팅 설정
- [ ]  react-i18next 설치 및 다국어 설정
- [ ]  react-hot-toast 설치 (알림용)
- [ ]  폴더 구조 세팅 (`components/`, `pages/`, `hooks/`, `types/`)

### 2. 공통 컴포넌트 개발

### 2.1 레이아웃

- [ ]  `Header.tsx` - 로고, 네비게이션, 언어 전환 버튼, 로그인/로그아웃 버튼
- [ ]  `Footer.tsx` - 푸터 (선택사항)

### 2.2 UI 컴포넌트

- [ ]  `Button.tsx` - Primary, Secondary, Icon 버튼
- [ ]  `Input.tsx` - 텍스트 입력 필드
- [ ]  `Card.tsx` - 기본 카드 컴포넌트
- [ ]  `Spinner.tsx` - 로딩 스피너
- [ ]  `SkeletonCard.tsx` - 스켈레톤 로딩
- [ ]  `Toast.tsx` - 알림 메시지 (react-hot-toast wrapper)
- [ ]  `EmptyState.tsx` - 빈 상태 표시

### 2.3 행사 관련 컴포넌트

- [ ]  `EventCard.tsx` - 행사 카드 (이미지, 제목, 날짜, 장소, 가격)
- [ ]  `EventGrid.tsx` - 행사 카드 그리드 레이아웃
- [ ]  `FilterBar.tsx` - 카테고리 필터 + 검색창
- [ ]  `EventDetailInfo.tsx` - 행사 상세 정보 섹션

### 2.4 후기 관련 컴포넌트

- [ ]  `ReviewCard.tsx` - 후기 카드 (작성자, 별점, 내용, 날짜)
- [ ]  `ReviewForm.tsx` - 후기 작성/수정 폼
- [ ]  `RatingInput.tsx` - 별점 입력 (1-5)
- [ ]  `ReviewList.tsx` - 후기 목록

### 3. 페이지 개발

### 3.1 홈 페이지 (`/`)

- [ ]  공공데이터 API 연동 (공연/전시/축제 조회)
- [ ]  카테고리 필터 구현 (전체/공연/전시/축제)
- [ ]  검색 기능 (Debounce 300ms)
- [ ]  행사 그리드 표시
- [ ]  무한 스크롤 또는 페이지네이션
- [ ]  로딩 상태 (Skeleton)
- [ ]  빈 상태 (검색 결과 없음)

### 3.2 행사 상세 페이지 (`/events/:id`)

- [ ]  URL 파라미터로 행사 ID 받기
- [ ]  API로 행사 상세 정보 조회
- [ ]  행사 정보 표시 (이미지, 제목, 날짜, 장소, 가격, 설명)
- [ ]  북마크 버튼 (Firebase 담당과 연동)
- [ ]  공유 버튼 (URL 복사)
- [ ]  후기 목록 표시 (Firebase 담당과 연동)
- [ ]  후기 작성 버튼 → 모달 or 섹션
- [ ]  로딩 상태
- [ ]  에러 처리 (행사 없음)

### 3.3 마이페이지 (`/my-page`)

- [ ]  로그인 체크 (미로그인 시 로그인 페이지로 리다이렉트)
- [ ]  탭 UI (북마크 / 내 후기)
- [ ]  **북마크 탭**:
    - [ ]  북마크 목록 그리드
    - [ ]  북마크 해제 버튼
    - [ ]  빈 상태
- [ ]  **내 후기 탭**:
    - [ ]  후기 목록
    - [ ]  수정 버튼 → 모달
    - [ ]  삭제 버튼 → 확인 다이얼로그
    - [ ]  빈 상태

### 4. 상태 관리 & Hooks

### 4.1 커스텀 훅

- [ ]  `useAuth.ts` - 로그인 상태, 사용자 정보
- [ ]  `useEvents.ts` - 행사 목록 조회, 필터링, 검색
- [ ]  `useBookmarks.ts` - 북마크 추가/삭제/조회 (Firebase 담당과 협업)
- [ ]  `useReviews.ts` - 후기 CRUD (Firebase 담당과 협업)

### 5. 공공데이터 API 연동

### 5.1 API 서비스 파일 (`services/api.ts`)

- [ ]  API 키 환경변수 설정
- [ ]  공연정보 API 연동 함수
- [ ]  전시정보 API 연동 함수
- [ ]  축제정보 API 연동 함수
- [ ]  대구 지역 필터링 로직
- [ ]  에러 핸들링

### 5.2 데이터 타입 정의 (`types/index.ts`)

```tsx
interface Event {
  id: string;
  title: string;
  category: 'performance' | 'exhibition' | 'festival';
  date: string;
  startDate: string;
  endDate: string;
  place: string;
  price: string;
  image: string;
  description: string;
}

```

### 6. 다국어 설정

### 6.1 i18n 설정 (`i18n.ts`)

- [ ]  react-i18next 초기화
- [ ]  한국어 번역 파일
- [ ]  영어 번역 파일
- [ ]  언어 전환 함수

### 6.2 번역 적용

- [ ]  모든 UI 텍스트 `t()` 함수로 감싸기
- [ ]  버튼, 라벨, 메시지, 네비게이션
- [ ]  **제외**: Firebase 데이터 (행사명, 후기 내용 등)

### 7. 반응형 디자인

- [ ]  모바일 (< 640px): 1단 레이아웃
- [ ]  태블릿 (640-1024px): 2단 그리드
- [ ]  데스크탑 (> 1024px): 3-4단 그리드
- [ ]  필터바 반응형 (모바일: Bottom Sheet)
- [ ]  Header 반응형

### 8. 로딩 & 에러 처리

- [ ]  Skeleton 로딩 (카드)
- [ ]  Spinner 로딩 (전체 페이지)
- [ ]  Toast 알림 (성공/에러)
- [ ]  Error Boundary
- [ ]  빈 상태 컴포넌트

### 9. 성능 최적화

- [ ]  이미지 Lazy Loading
- [ ]  React.memo 적용 (필요한 컴포넌트)
- [ ]  useMemo, useCallback 활용
- [ ]  Code Splitting (React.lazy)

### 10. 최종 제출

- [ ]  README.txt 작성 (UI 스타일 가이드)
- [ ]  배포 (Vercel/Netlify)
- [ ]  Git 커밋 정리

---

## 🔥 Firebase 담당

### 1. Firebase 프로젝트 설정

- [ ]  Firebase 콘솔에서 프로젝트 생성
- [ ]  Firebase SDK 설치
- [ ]  Firebase Config 환경변수 설정
- [ ]  `firebase.ts` 파일 생성 및 초기화

```tsx
// firebase.ts
import { initializeApp } from 'firebase/app';
import { getAuth } from 'firebase/auth';
import { getFirestore } from 'firebase/firestore';
import { getStorage } from 'firebase/storage';

const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
  appId: import.meta.env.VITE_FIREBASE_APP_ID,
};

const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
export const storage = getStorage(app);

```

### 2. Authentication 구현

### 2.1 인증 서비스 (`services/auth.ts`)

- [ ]  Google 로그인 함수

```tsx
const signInWithGoogle = async () => {
  const provider = new GoogleAuthProvider();
  return await signInWithPopup(auth, provider);
};

```

- [ ]  이메일/비밀번호 로그인 함수

```tsx
const signInWithEmail = async (email, password) => {
  return await signInWithEmailAndPassword(auth, email, password);
};

```

- [ ]  회원가입 함수

```tsx
const signUpWithEmail = async (email, password) => {
  return await createUserWithEmailAndPassword(auth, email, password);
};

```

- [ ]  로그아웃 함수

```tsx
const logout = async () => {
  return await signOut(auth);
};

```

- [ ]  인증 상태 리스너

```tsx
const onAuthChange = (callback) => {
  return onAuthStateChanged(auth, callback);
};

```

### 2.2 사용자 정보 Firestore 저장

- [ ]  최초 로그인 시 `users` 컬렉션에 사용자 정보 저장

```tsx
const createUserDocument = async (user) => {
  const userRef = doc(db, 'users', user.uid);
  const userSnap = await getDoc(userRef);

  if (!userSnap.exists()) {
    await setDoc(userRef, {
      uid: user.uid,
      email: user.email,
      displayName: user.displayName,
      photoURL: user.photoURL,
      createdAt: serverTimestamp(),
    });
  }
};

```

### 3. Firestore Database 구조 설계

### 3.1 Collections 생성

- [ ]  `users` 컬렉션
- [ ]  `bookmarks` 컬렉션
- [ ]  `reviews` 컬렉션

### 3.2 보안 규칙 설정 (Firestore Rules)

```jsx
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users
    match /users/{userId} {
      allow read: if true;
      allow write: if request.auth.uid == userId;
    }

    // Bookmarks
    match /bookmarks/{bookmarkId} {
      allow read: if true;
      allow create: if request.auth != null;
      allow delete: if request.auth.uid == resource.data.userId;
    }

    // Reviews
    match /reviews/{reviewId} {
      allow read: if true;
      allow create: if request.auth != null;
      allow update, delete: if request.auth.uid == resource.data.userId;
    }
  }
}

```

### 4. 북마크 기능 (CRUD)

### 4.1 CREATE - 북마크 추가

```tsx
const addBookmark = async (userId, event) => {
  const bookmarkData = {
    userId,
    eventId: event.id,
    eventTitle: event.title,
    eventImage: event.image,
    eventDate: event.date,
    category: event.category,
    createdAt: serverTimestamp(),
  };

  return await addDoc(collection(db, 'bookmarks'), bookmarkData);
};

```

### 4.2 READ - 북마크 조회

```tsx
// 특정 사용자의 모든 북마크
const getUserBookmarks = async (userId) => {
  const q = query(
    collection(db, 'bookmarks'),
    where('userId', '==', userId),
    orderBy('createdAt', 'desc')
  );

  const snapshot = await getDocs(q);
  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
};

// 특정 행사가 북마크되어 있는지 확인
const isBookmarked = async (userId, eventId) => {
  const q = query(
    collection(db, 'bookmarks'),
    where('userId', '==', userId),
    where('eventId', '==', eventId)
  );

  const snapshot = await getDocs(q);
  return !snapshot.empty;
};

// 특정 행사의 북마크 수
const getBookmarkCount = async (eventId) => {
  const q = query(
    collection(db, 'bookmarks'),
    where('eventId', '==', eventId)
  );

  const snapshot = await getDocs(q);
  return snapshot.size;
};

```

### 4.3 DELETE - 북마크 삭제

```tsx
const removeBookmark = async (bookmarkId) => {
  return await deleteDoc(doc(db, 'bookmarks', bookmarkId));
};

// eventId로 삭제 (북마크 ID를 모를 때)
const removeBookmarkByEventId = async (userId, eventId) => {
  const q = query(
    collection(db, 'bookmarks'),
    where('userId', '==', userId),
    where('eventId', '==', eventId)
  );

  const snapshot = await getDocs(q);
  snapshot.forEach(async (docSnapshot) => {
    await deleteDoc(docSnapshot.ref);
  });
};

```

### 5. 후기 기능 (CRUD)

### 5.1 CREATE - 후기 작성

```tsx
const createReview = async (userId, userName, userPhoto, eventId, eventTitle, rating, content, images) => {
  const reviewData = {
    userId,
    userName,
    userPhoto,
    eventId,
    eventTitle,
    rating,
    content,
    images: images || [],
    createdAt: serverTimestamp(),
    updatedAt: serverTimestamp(),
  };

  return await addDoc(collection(db, 'reviews'), reviewData);
};

```

### 5.2 READ - 후기 조회

```tsx
// 특정 행사의 모든 후기
const getEventReviews = async (eventId) => {
  const q = query(
    collection(db, 'reviews'),
    where('eventId', '==', eventId),
    orderBy('createdAt', 'desc')
  );

  const snapshot = await getDocs(q);
  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
};

// 특정 사용자가 작성한 모든 후기
const getUserReviews = async (userId) => {
  const q = query(
    collection(db, 'reviews'),
    where('userId', '==', userId),
    orderBy('createdAt', 'desc')
  );

  const snapshot = await getDocs(q);
  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
};

// 특정 행사의 후기 수
const getReviewCount = async (eventId) => {
  const q = query(
    collection(db, 'reviews'),
    where('eventId', '==', eventId)
  );

  const snapshot = await getDocs(q);
  return snapshot.size;
};

// 특정 행사의 평균 별점
const getAverageRating = async (eventId) => {
  const reviews = await getEventReviews(eventId);
  if (reviews.length === 0) return 0;

  const total = reviews.reduce((sum, review) => sum + review.rating, 0);
  return (total / reviews.length).toFixed(1);
};

```

### 5.3 UPDATE - 후기 수정

```tsx
const updateReview = async (reviewId, rating, content, images) => {
  const reviewRef = doc(db, 'reviews', reviewId);

  return await updateDoc(reviewRef, {
    rating,
    content,
    images,
    updatedAt: serverTimestamp(),
  });
};

```

### 5.4 DELETE - 후기 삭제

```tsx
const deleteReview = async (reviewId) => {
  return await deleteDoc(doc(db, 'reviews', reviewId));
};

```

### 6. Firebase Storage (이미지 업로드)

### 6.1 Storage 설정

- [ ]  Firebase Storage 보안 규칙 설정

```jsx
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /reviews/{reviewId}/{fileName} {
      allow read: if true;
      allow write: if request.auth != null && request.resource.size < 5 * 1024 * 1024;
    }
  }
}

```

### 6.2 이미지 업로드 함수

```tsx
const uploadReviewImages = async (reviewId, files) => {
  const uploadPromises = files.map(async (file, index) => {
    const storageRef = ref(storage, `reviews/${reviewId}/${Date.now()}_${index}.jpg`);
    await uploadBytes(storageRef, file);
    return await getDownloadURL(storageRef);
  });

  return await Promise.all(uploadPromises);
};

```

### 6.3 이미지 삭제 함수

```tsx
const deleteReviewImages = async (imageUrls) => {
  const deletePromises = imageUrls.map(async (url) => {
    const imageRef = ref(storage, url);
    return await deleteObject(imageRef);
  });

  return await Promise.all(deletePromises);
};

```

### 7. 실시간 리스너 (Optional)

### 7.1 북마크 실시간 업데이트

```tsx
const subscribeToUserBookmarks = (userId, callback) => {
  const q = query(
    collection(db, 'bookmarks'),
    where('userId', '==', userId),
    orderBy('createdAt', 'desc')
  );

  return onSnapshot(q, (snapshot) => {
    const bookmarks = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
    callback(bookmarks);
  });
};

```

### 7.2 후기 실시간 업데이트

```tsx
const subscribeToEventReviews = (eventId, callback) => {
  const q = query(
    collection(db, 'reviews'),
    where('eventId', '==', eventId),
    orderBy('createdAt', 'desc')
  );

  return onSnapshot(q, (snapshot) => {
    const reviews = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
    callback(reviews);
  });
};

```

### 8. 에러 핸들링

- [ ]  모든 함수에 try-catch 추가
- [ ]  에러 메시지를 Frontend에 전달

```tsx
try {
  await addBookmark(userId, event);
  return { success: true };
} catch (error) {
  console.error('Bookmark error:', error);
  return { success: false, error: error.message };
}

```

### 9. TypeScript 타입 정의

```tsx
// types/index.ts
interface User {
  uid: string;
  email: string;
  displayName: string;
  photoURL?: string;
  createdAt: Timestamp;
}

interface Bookmark {
  id: string;
  userId: string;
  eventId: string;
  eventTitle: string;
  eventImage: string;
  eventDate: string;
  category: string;
  createdAt: Timestamp;
}

interface Review {
  id: string;
  userId: string;
  userName: string;
  userPhoto?: string;
  eventId: string;
  eventTitle: string;
  rating: number;
  content: string;
  images?: string[];
  createdAt: Timestamp;
  updatedAt: Timestamp;
}

```

### 10. Frontend와 연동

### 10.1 함수 Export

```tsx
// services/firestore.ts
export {
  // Bookmarks
  addBookmark,
  getUserBookmarks,
  isBookmarked,
  getBookmarkCount,
  removeBookmark,

  // Reviews
  createReview,
  getEventReviews,
  getUserReviews,
  getReviewCount,
  getAverageRating,
  updateReview,
  deleteReview,

  // Images
  uploadReviewImages,
  deleteReviewImages,
};

```

### 10.2 Frontend Hook에서 사용

```tsx
// Frontend의 useBookmarks.ts에서 사용 예시
import { addBookmark, removeBookmark } from '@/services/firestore';

const handleBookmark = async () => {
  const result = await addBookmark(user.uid, event);
  if (result.success) {
    toast.success('북마크 추가됨');
  } else {
    toast.error(result.error);
  }
};

```

---

## 🤝 협업 체크리스트

### Frontend → Firebase 필요 사항

- [ ]  로그인 후 사용자 UID 제공
- [ ]  북마크할 행사 데이터 전달
- [ ]  후기 작성 시 데이터(별점, 내용, 이미지) 전달
- [ ]  에러 메시지 UI 표시

### Firebase → Frontend 제공 사항

- [ ]  인증 상태 및 사용자 정보
- [ ]  북마크 목록 데이터
- [ ]  후기 목록 데이터
- [ ]  성공/실패 여부 및 에러 메시지

### 공통 작업

- [ ]  TypeScript 타입 정의 공유
- [ ]  환경변수 설정 공유 (`.env.example`)
- [ ]  Git 브랜치 전략 (feature/frontend, feature/firebase)
- [ ]  코드 리뷰

---

이 명세서대로 역할 분담하면 깔끔하게 협업 가능해!